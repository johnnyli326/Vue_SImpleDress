{"version":3,"sources":["webpack:///./src/views/view/Product.vue?6852","webpack:///./src/views/view/Product.vue?be2f","webpack:///src/views/view/Product.vue","webpack:///./src/views/view/Product.vue?495c","webpack:///./src/views/view/Product.vue?6f1a"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Product_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Product_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","staticClass","src","product","imageUrl","alt","_v","_s","title","id","price","origin_price","staticStyle","font-size","_f","_e","text-decoration","_m","directives","name","rawName","value","expression","change","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","qtySelect","multiple","_l","num","key","domProps","unit","type","click","addtoCart","status","loadingItem","staticRenderFns","Productvue_type_script_lang_js_","data","color","size","watch","$route","methods","getProduct","vm","api","concat","window","scrollTo","$http","get","then","response","console","log","qty","arguments","length","undefined","cart","product_id","post","$bus","$emit","message","created","params","productId","mounted","jquery_default","document","ready","e","addClass","siblings","removeClass","view_Productvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-0c7a8e5b.b3691871.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),_c('div',{staticClass:\"container my-5\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md mb-3\"},[_c('img',{staticClass:\"product-img\",attrs:{\"src\":_vm.product.imageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"col-md\"},[_c('h2',[_vm._v(_vm._s(_vm.product.title))]),_c('small',[_vm._v(\"商品編號：\"+_vm._s(_vm.product.id))]),_c('hr'),(_vm.product.price == _vm.product.origin_price)?_c('p',{staticClass:\"text-danger text-right\",staticStyle:{\"font-size\":\"49px\"}},[_vm._v(\"NT.\"+_vm._s(_vm._f(\"currency\")(_vm.product.price)))]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('p',{staticClass:\"text-right\",staticStyle:{\"text-decoration\":\"line-through\"}},[_vm._v(\"NT.\"+_vm._s(_vm._f(\"currency\")(_vm.product.origin_price)))]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('p',{staticClass:\"text-danger text-right\",staticStyle:{\"font-size\":\"49px\"}},[_vm._v(\"NT.\"+_vm._s(_vm._f(\"currency\")(_vm.product.price)))]):_vm._e(),_vm._m(0),_vm._m(1),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.qtySelect),expression:\"qtySelect\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.qtySelect=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((10),function(num){return _c('option',{key:num,domProps:{\"value\":num}},[_vm._v(\"\\n            選購 \"+_vm._s(num)+\" \"+_vm._s(_vm.product.unit)+\"\\n          \")])}),0),_c('div',{staticClass:\"mt-3 d-flex justify-content-between\"},[_c('span',{staticClass:\"text-danger\"},[_vm._v(\"總計 NT. \"+_vm._s(_vm._f(\"currency\")(_vm.product.price * _vm.qtySelect)))]),_c('button',{staticClass:\"btn btn-outline-danger btn-sm ml-auto\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addtoCart(_vm.product.id, _vm.qtySelect)}}},[(_vm.status.loadingItem === _vm.product.id)?_c('i',{staticClass:\"fas fa-spinner fa-spin\"}):_vm._e(),_vm._v(\"\\n            加到購物車\\n          \")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"product-color bg-white\"}),_c('div',{staticClass:\"product-color bg-secondary\"}),_c('div',{staticClass:\"product-color bg-dark\"}),_c('div',{staticClass:\"product-color bg-danger\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-start my-3\"},[_c('div',{staticClass:\"product-size bg-secondary text-white rounded-circle\"},[_vm._v(\"S\")]),_c('div',{staticClass:\"product-size bg-secondary text-white rounded-circle\"},[_vm._v(\"M\")]),_c('div',{staticClass:\"product-size bg-secondary text-white rounded-circle\"},[_vm._v(\"L\")]),_c('div',{staticClass:\"product-size bg-secondary text-white rounded-circle\"},[_vm._v(\"XL\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Loading :active.sync=\"isLoading\"></Loading>\n    <div class=\"container my-5\">\n      <div class=\"row\">\n        <div class=\"col-md mb-3\">\n          <img :src=\"product.imageUrl\" class=\"product-img\" alt=\"\">\n        </div>\n        <div class=\"col-md\">\n          <h2>{{ product.title }}</h2>\n          <small>商品編號：{{ product.id }}</small>\n          <hr>\n          <p class=\"text-danger text-right\" style=\"font-size:49px;\" v-if=\"product.price == product.origin_price\">NT.{{ product.price | currency }}</p>\n          <p class=\"text-right\" style=\"text-decoration: line-through\" v-if=\"product.price !== product.origin_price\">NT.{{ product.origin_price | currency }}</p>\n          <p class=\"text-danger text-right\" style=\"font-size:49px;\" v-if=\"product.price !== product.origin_price\">NT.{{ product.price | currency }}</p>\n          <div>\n            <div class=\"product-color bg-white\"></div>\n            <div class=\"product-color bg-secondary\"></div>\n            <div class=\"product-color bg-dark\"></div>\n            <div class=\"product-color bg-danger\"></div>\n          </div>\n          <div class=\"d-flex justify-content-start my-3\">\n            <div class=\"product-size bg-secondary text-white rounded-circle\">S</div>\n            <div class=\"product-size bg-secondary text-white rounded-circle\">M</div>\n            <div class=\"product-size bg-secondary text-white rounded-circle\">L</div>\n            <div class=\"product-size bg-secondary text-white rounded-circle\">XL</div>\n          </div>\n          <select class=\"form-control\" v-model=\"qtySelect\">\n            <option v-for=\"num in 10\" :value=\"num\" :key=\"num\">\n              選購 {{ num }} {{product.unit}}\n            </option>\n          </select>\n          <div class=\"mt-3 d-flex justify-content-between\">\n            <span class=\"text-danger\">總計 NT. {{product.price * qtySelect | currency }}</span>\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm ml-auto\" @click=\"addtoCart(product.id, qtySelect)\">\n              <i class=\"fas fa-spinner fa-spin\" v-if=\"status.loadingItem === product.id\"></i>\n              加到購物車\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport $ from 'jquery';\nexport default {\n  name: 'Product',\n  data() {\n    return {\n      product: {},\n      isLoading: false,\n      qtySelect: 1,\n      // 詳細資訊loading\n      status: {\n        loadingItem: '',\n      },\n      color: '',\n      size: '',\n    }\n  },\n  watch: {\n    '$route': 'getProduct',\n  },\n  methods: {\n    getProduct(id) {\n      const vm = this;\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`;\n      vm.isLoading = true;\n      window.scrollTo(0, 0);\n      vm.$http.get(api).then((response) => {\n        console.log(response.data);\n        vm.product = response.data.product;\n        vm.isLoading = false;\n      });\n    },\n    addtoCart(id, qty = 1) {\n      let vm = this;\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\n      // 參數： id 和 qty\n      const cart = {\n        product_id: id,\n        qty,\n      }\n      // 開啟loading效果\n      vm.status.loadingItem = id;\n      vm.$http.post(api, {data: cart}).then((response) => {\n        console.log('cart', response.data);\n        // 關閉loading效果\n        vm.status.loadingItem = '';\n        vm.$bus.$emit('newCart', response.data);\n        vm.$bus.$emit('message:push',(response.data.message));\n      });\n    },\n  },\n  created() {\n    const vm = this;\n    console.log(this.$route.params.productId);\n    vm.getProduct(this.$route.params.productId);\n  },\n  mounted() {\n    $(document).ready(function() {\n      $('.product-color').click(function(e) {\n        $(this).addClass('active').siblings().removeClass('active');\n      });\n      $('.product-size').click(function(e) {\n        $(this).addClass('active').siblings().removeClass('active');\n      });\n    });\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../../assets/mixin\";\nhr {\n  background-color: black;\n}\n.product-color {\n  width: 36px;\n  height: 36px;\n  border: 0.5px solid black;\n  display: inline-block;\n  margin-right: 10px;\n  &:hover {\n    cursor: pointer;\n  }\n}\n.product-size {\n  width:36px;\n  height: 36px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 10px;\n  border: 1px solid black;\n  &:hover {\n    cursor: pointer;\n  }\n}\n.active {\n  border-width: 3px;\n}\n.product-img {\n  width:430px;\n  @include ipad() {\n    width: 100%;\n    height: auto;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=01baebf3&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}